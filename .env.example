# LLM Infrastructure Environment Configuration
# Copy this file to .env and update with your actual values

# ============================================================================
# LLM Configuration
# ============================================================================
# URL for the LLM service (Ollama, vLLM, or OpenAI-compatible API)
LLM_URL=http://localhost:11434

# Model name to use for inference
MODEL_NAME=llama2

# LLM request timeout in seconds (longer for CPU-based inference)
LLM_TIMEOUT=120

# Maximum tokens to generate in LLM response
LLM_MAX_TOKENS=200

# Temperature for LLM generation (0.0 = deterministic, 1.0 = creative)
LLM_TEMPERATURE=0.7

# ============================================================================
# Kafka Configuration
# ============================================================================
# Comma-separated list of Kafka broker addresses
KAFKA_BROKERS=localhost:9092

# Kafka topic for input documents
INPUT_TOPIC=financial-documents

# Kafka topic for LLM processing results
OUTPUT_TOPIC=llm-results

# Kafka consumer group ID
CONSUMER_GROUP=llm-processor-group

# ============================================================================
# Audit Logging Configuration
# ============================================================================
# Enable/disable audit logging (true/false)
ENABLE_AUDIT_LOGGING=true

# Path to SQLite database for audit logs
AUDIT_DB_PATH=audit_logs.db

# Enable encryption for audit database (true/false)
# Note: Requires ENCRYPT_AUDIT_DB_KEY to be set
ENCRYPT_AUDIT_DB=false

# Encryption key for audit database (required if ENCRYPT_AUDIT_DB=true)
# Generate with: python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
ENCRYPT_AUDIT_DB_KEY=

# Mask sensitive fields in audit logs (PII, financial data, etc.)
MASK_SENSITIVE_FIELDS=true

# Anonymize user IDs in audit logs for privacy
ANONYMIZE_USER_IDS=false

# ============================================================================
# Compliance API Configuration
# ============================================================================
# Port for the Compliance API server
COMPLIANCE_API_PORT=5000

# Host for the Compliance API server (0.0.0.0 for all interfaces)
COMPLIANCE_API_HOST=0.0.0.0

# ============================================================================
# Drift Detection Configuration
# ============================================================================
# Enable/disable drift detection (true/false)
ENABLE_DRIFT_DETECTION=true

# Path to SQLite database for drift alerts
DRIFT_DB_PATH=drift_alerts.db

# Port for the Drift Detection API server
DRIFT_API_PORT=5001

# Host for the Drift Detection API server
DRIFT_API_HOST=0.0.0.0

# Number of samples in baseline window for drift detection
DRIFT_BASELINE_WINDOW=100

# Number of samples in detection window for drift detection
DRIFT_DETECTION_WINDOW=50

# Threshold for drift detection (p-value for statistical tests)
DRIFT_THRESHOLD=0.05

# Minimum number of samples required before drift detection starts
DRIFT_MIN_SAMPLES=20

# ============================================================================
# Privacy & Security Settings
# ============================================================================
# Enable field masking for sensitive data (SSN, credit cards, emails, etc.)
# MASK_SENSITIVE_FIELDS=true

# Enable user ID anonymization (hashing)
# ANONYMIZE_USER_IDS=false

# ============================================================================
# Multi-Tenancy Settings (Optional)
# ============================================================================
# Default tenant ID (if not provided in requests)
# DEFAULT_TENANT_ID=default

# Enable tenant isolation in audit logs
# ENABLE_TENANT_ISOLATION=true

# ============================================================================
# Performance Tuning (Advanced)
# ============================================================================
# Maximum number of messages to poll from Kafka per batch
# MAX_POLL_RECORDS=10

# Kafka session timeout in milliseconds
# SESSION_TIMEOUT_MS=30000

# Kafka heartbeat interval in milliseconds
# HEARTBEAT_INTERVAL_MS=10000

# ============================================================================
# Development & Debugging
# ============================================================================
# Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
# LOG_LEVEL=INFO

# Enable verbose logging for troubleshooting
# VERBOSE_LOGGING=false
